<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Delivery Management Admin Panel</title>
    <script src="https://cdn.tailwindcss.com"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a'
                        }
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 font-sans">
    <div class="flex h-screen overflow-hidden">
        <!-- Sidebar -->
        <nav class="w-64 bg-white shadow-xl border-r border-gray-200 flex-shrink-0">
            <div class="flex flex-col h-full">
                <!-- Logo -->
                <div class="flex items-center justify-center h-16 px-4 bg-gradient-to-r from-blue-600 to-purple-600">
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-tachometer-alt text-white text-xl"></i>
                        <h1 class="text-white text-lg font-bold">DeliveryHub</h1>
                    </div>
                </div>
                
                <!-- Navigation Menu -->
                <div class="flex-1 px-3 py-4 overflow-y-auto">
                    <ul class="space-y-1">
                        <li>
                            <a href="#" class="nav-link active flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 group" data-section="dashboard">
                                <i class="fas fa-chart-pie w-5 h-5 mr-3 text-gray-400 group-hover:text-white"></i>
                                Dashboard
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link flex items-center px-3 py-2.5 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group" data-section="orders">
                                <i class="fas fa-box w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-600"></i>
                                Manage Orders
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link flex items-center px-3 py-2.5 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group" data-section="staff">
                                <i class="fas fa-users w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-600"></i>
                                Delivery Staff
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link flex items-center px-3 py-2.5 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group" data-section="tracking">
                                <i class="fas fa-map-marker-alt w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-600"></i>
                                Live Tracking
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link flex items-center px-3 py-2.5 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group" data-section="reports">
                                <i class="fas fa-chart-bar w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-600"></i>
                                Analytics
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link flex items-center px-3 py-2.5 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group" data-section="settings">
                                <i class="fas fa-cog w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-600"></i>
                                Settings
                            </a>
                        </li>
                        <li>
                            <a href="#" class="nav-link flex items-center px-3 py-2.5 text-sm font-medium text-gray-600 rounded-lg hover:bg-gray-100 hover:text-gray-900 transition-all duration-200 group" data-section="support">
                                <i class="fas fa-headset w-5 h-5 mr-3 text-gray-400 group-hover:text-gray-600"></i>
                                Support
                            </a>
                        </li>
                    </ul>
                </div>
                
                <!-- User Profile -->
                <div class="p-3 border-t border-gray-200">
                    <div class="flex items-center space-x-3">
                        <div class="w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                            <i class="fas fa-user text-white text-sm"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium text-gray-900 truncate">Admin User</p>
                            <p class="text-xs text-gray-500 truncate">admin@deliveryhub.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="flex-1 overflow-hidden flex flex-col">
            <!-- Top Header -->
            <header class="bg-white shadow-sm border-b border-gray-200">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex justify-between items-center py-4">
                        <div>
                            <h1 class="text-2xl font-bold text-gray-900">Delivery Management</h1>
                            <p class="text-sm text-gray-600">Monitor and manage all delivery operations</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <!-- Notifications -->
                            <div class="relative">
                                <button class="p-2 text-gray-400 hover:text-gray-600 focus:outline-none focus:text-gray-600">
                                    <i class="fas fa-bell text-lg"></i>
                                    <span class="absolute top-0 right-0 block h-2 w-2 rounded-full bg-red-400 ring-2 ring-white"></span>
                                </button>
                            </div>
                            <!-- Search -->
                            <div class="relative">
                                <input type="text" placeholder="Search orders..." class="w-64 pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content Area -->
            <div class="flex-1 overflow-y-auto p-6">
                <!-- Dashboard Section -->
                <section id="dashboard" class="content-section">
                    <!-- Stats Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Total Orders</p>
                                    <p class="text-3xl font-bold text-gray-900">247</p>
                                    <p class="text-xs text-green-600 flex items-center mt-1">
                                        <i class="fas fa-arrow-up mr-1"></i>
                                        +12% from yesterday
                                    </p>
                                </div>
                                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-shopping-cart text-blue-600 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Assigned</p>
                                    <p class="text-3xl font-bold text-gray-900">28</p>
                                    <p class="text-xs text-blue-600 flex items-center mt-1">
                                        <i class="fas fa-clock mr-1"></i>
                                        In progress
                                    </p>
                                </div>
                                <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-user-check text-yellow-600 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Pending</p>
                                    <p class="text-3xl font-bold text-gray-900">15</p>
                                    <p class="text-xs text-orange-600 flex items-center mt-1">
                                        <i class="fas fa-exclamation-triangle mr-1"></i>
                                        Needs attention
                                    </p>
                                </div>
                                <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-hourglass-half text-orange-600 text-xl"></i>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-gray-600">Delivered</p>
                                    <p class="text-3xl font-bold text-gray-900">204</p>
                                    <p class="text-xs text-green-600 flex items-center mt-1">
                                        <i class="fas fa-check-circle mr-1"></i>
                                        92% success rate
                                    </p>
                                </div>
                                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-check-double text-green-600 text-xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Orders -->
                    <div class="bg-white rounded-xl shadow-sm border border-gray-200">
                        <div class="px-6 py-4 border-b border-gray-200">
                            <h3 class="text-lg font-semibold text-gray-900">Recent Orders</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Time</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order ID</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Staff</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Location</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">12:08 PM</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#ORD001</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Staff #3</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                <i class="fas fa-box mr-1"></i>Packed
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Warehouse</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            <button class="text-blue-600 hover:text-blue-900 font-medium">
                                                <i class="fas fa-eye mr-1"></i>View
                                            </button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">11:45 AM</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#ORD002</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Staff #3</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                                <i class="fas fa-truck mr-1"></i>Out for Delivery
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">En route to Kadakkal</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            <button class="text-blue-600 hover:text-blue-900 font-medium">
                                                <i class="fas fa-map-marker-alt mr-1"></i>Track
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>





<!-- Manage Orders Section -->
                <section id="orders" class="content-section hidden">
                    <div class="mb-6">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <h2 class="text-xl font-semibold text-gray-900 mb-4 sm:mb-0">Manage Orders</h2>
                            <div class="flex space-x-3">
                                <select class="border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option>All Orders</option>
                                    <option>Pending</option>
                                    <option>Packed</option>
                                    <option>Assigned</option>
                                    <option>Out for Delivery</option>
                                    <option>Delivered</option>
                                </select>
                                <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200">
                                    <i class="fas fa-plus mr-2"></i>New Order
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm border border-gray-200">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order ID</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Items</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Staff</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#ORD001</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Customer #1</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Product #2 (Qty: 1)</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">₹75</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                Packed
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <select class="text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500">
                                                <option>Select Staff</option>
                                                <option selected>Staff #3</option>
                                                <option>Staff #4</option>
                                                <option>Staff #5</option>
                                            </select>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            <div class="flex space-x-2">
                                                <button class="text-blue-600 hover:text-blue-900 font-medium">Assign</button>
                                                <button class="text-green-600 hover:text-green-900 font-medium">Track</button>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>






  <!-- Delivery Staff Section -->
                <section id="staff" class="content-section hidden">
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold text-gray-900 mb-4">Delivery Staff Management</h2>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center">
                                        <i class="fas fa-user text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-gray-900">Staff #3</h3>
                                        <div class="flex items-center">
                                            <span class="w-2 h-2 bg-green-400 rounded-full mr-2"></span>
                                            <span class="text-sm text-green-600 font-medium">Online</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-2 mb-6">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Current Orders:</span>
                                    <span class="font-medium text-gray-900">3</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Location:</span>
                                    <span class="font-medium text-gray-900">Kadakkal Area</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Rating:</span>
                                    <span class="font-medium text-gray-900">4.8/5</span>
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button class="flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors duration-200">
                                    View Details
                                </button>
                                <button class="flex-1 border border-gray-300 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors duration-200">
                                    Assign Order
                                </button>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-gradient-to-r from-gray-400 to-gray-500 rounded-full flex items-center justify-center">
                                        <i class="fas fa-user text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-gray-900">Staff #4</h3>
                                        <div class="flex items-center">
                                            <span class="w-2 h-2 bg-gray-400 rounded-full mr-2"></span>
                                            <span class="text-sm text-gray-500 font-medium">Offline</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-2 mb-6">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Current Orders:</span>
                                    <span class="font-medium text-gray-900">0</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Last Seen:</span>
                                    <span class="font-medium text-gray-900">2 hours ago</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Rating:</span>
                                    <span class="font-medium text-gray-900">4.6/5</span>
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button class="flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors duration-200">
                                    View Details
                                </button>
                                <button class="flex-1 border border-gray-300 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors duration-200">
                                    Contact
                                </button>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="w-12 h-12 bg-gradient-to-r from-green-500 to-teal-600 rounded-full flex items-center justify-center">
                                        <i class="fas fa-user text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-lg font-semibold text-gray-900">Staff #5</h3>
                                        <div class="flex items-center">
                                            <span class="w-2 h-2 bg-green-400 rounded-full mr-2"></span>
                                            <span class="text-sm text-green-600 font-medium">Online</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="space-y-2 mb-6">
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Current Orders:</span>
                                    <span class="font-medium text-gray-900">2</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Location:</span>
                                    <span class="font-medium text-gray-900">City Center</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Rating:</span>
                                    <span class="font-medium text-gray-900">4.9/5</span>
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button class="flex-1 bg-blue-600 text-white py-2 px-3 rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors duration-200">
                                    View Details
                                </button>
                                <button class="flex-1 border border-gray-300 text-gray-700 py-2 px-3 rounded-lg text-sm font-medium hover:bg-gray-50 transition-colors duration-200">
                                    Assign Order
                                </button>
                            </div>
                        </div>
                    </div>
                </section>


<!-- Tracking Section -->
<section id="tracking" class="content-section hidden">
    <div class="mb-6">
        <h2 class="text-xl font-semibold text-gray-900 mb-4">Live Tracking</h2>
    </div>

    <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6">
        <div class="w-full h-96 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300">
            <div class="text-center">
                <i class="fas fa-map-marked-alt text-4xl text-gray-400 mb-4"></i>
                <h3 class="text-lg font-medium text-gray-900 mb-2">Live Map View</h3>
                <p class="text-sm text-gray-600">Interactive map showing real-time staff positions</p>
                <button class="mt-4 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200">
                    <i class="fas fa-play mr-2"></i>Start Live Tracking
                </button>
            </div>
        </div>
    </div>

    <div class="bg-white rounded-xl shadow-sm border border-gray-200">
        <div class="px-6 py-4 border-b border-gray-200">
            <h3 class="text-lg font-semibold text-gray-900">Delivery Logs</h3>
        </div>
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Time</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Order ID</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Staff</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Location</th>
                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <tr class="hover:bg-gray-50">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">12:08 PM</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#ORD001</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Staff #3</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                <i class="fas fa-box mr-1"></i>Packed
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Warehouse</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                            <button class="text-blue-600 hover:text-blue-900 font-medium">
                                <i class="fas fa-eye mr-1"></i>View
                            </button>
                        </td>
                    </tr>
                    <tr class="hover:bg-gray-50">
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">11:45 AM</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#ORD002</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Staff #3</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                                <i class="fas fa-truck mr-1"></i>Out for Delivery
                            </span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">En route to Kadakkal</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                            <button class="text-blue-600 hover:text-blue-900 font-medium">
                                <i class="fas fa-map-marker-alt mr-1"></i>Track
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>








                <!-- Reports Section -->
                <section id="reports" class="content-section hidden">
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold text-gray-900 mb-4">Analytics & Reports</h2>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200">
                            <div class="flex items-center justify-between mb-4">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-900">Delivery Performance</h3>
                                    <p class="text-sm text-gray-600">Today's metrics</p>
                                </div>
                                <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-chart-line text-green-600 text-xl"></i>
                                </div>
                            </div>
                            <div class="space-y-3">
                                <div class="flex justify-between">
                                    <span class="text-sm text-gray-600">Total Deliveries:</span>
                                    <span class="text-sm font-semibold text-gray-900">25</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-sm text-gray-600">Success Rate:</span>
                                    <span class="text-sm font-semibold text-green-600">96.5%</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-sm text-gray-600">Avg. Delivery Time:</span>
                                    <span class="text-sm font-semibold text-gray-900">32 min</span>
                                </div>
                            </div>
                            <button class="w-full mt-4 bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors duration-200">
                                <i class="fas fa-download mr-2"></i>Generate Report
                            </button>
                        </div>

                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200">
                            <div class="flex items-center justify-between mb-4">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-900">Staff Performance</h3>
                                    <p class="text-sm text-gray-600">Team overview</p>
                                </div>
                                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-users text-blue-600 text-xl"></i>
                                </div>
                            </div>
                            <div class="space-y-3">
                                <div class="flex justify-between">
                                    <span class="text-sm text-gray-600">Top Performer:</span>
                                    <span class="text-sm font-semibold text-gray-900">Staff #3</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-sm text-gray-600">Total Earnings:</span>
                                    <span class="text-sm font-semibold text-green-600">₹2,450</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-sm text-gray-600">Average Rating:</span>
                                    <span class="text-sm font-semibold text-yellow-600">4.8/5</span>
                                </div>
                            </div>
                            <button class="w-full mt-4 bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200">
                                <i class="fas fa-eye mr-2"></i>View Details
                            </button>
                        </div>

                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow duration-200">
                            <div class="flex items-center justify-between mb-4">
                                <div>
                                    <h3 class="text-lg font-semibold text-gray-900">Revenue Analytics</h3>
                                    <p class="text-sm text-gray-600">Financial overview</p>
                                </div>
                                <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-rupee-sign text-purple-600 text-xl"></i>
                                </div>
                            </div>
                            <div class="space-y-3">
                                <div class="flex justify-between">
                                    <span class="text-sm text-gray-600">Today's Revenue:</span>
                                    <span class="text-sm font-semibold text-gray-900">₹3,780</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-sm text-gray-600">Delivery Charges:</span>
                                    <span class="text-sm font-semibold text-gray-900">₹480</span>
                                </div>
                                <div class="flex justify-between">
                                    <span class="text-sm text-gray-600">Success Rate:</span>
                                    <span class="text-sm font-semibold text-green-600">94.2%</span>
                                </div>
                            </div>
                            <button class="w-full mt-4 bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-700 transition-colors duration-200">
                                <i class="fas fa-file-export mr-2"></i>Export Data
                            </button>
                        </div>
                    </div>

                    <!-- Charts Section -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Weekly Performance</h3>
                            <div class="h-64 bg-gray-50 rounded-lg flex items-center justify-center">
                                <div class="text-center">
                                    <i class="fas fa-chart-bar text-3xl text-gray-400 mb-2"></i>
                                    <p class="text-sm text-gray-600">Performance Chart</p>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Delivery Distribution</h3>
                            <div class="h-64 bg-gray-50 rounded-lg flex items-center justify-center">
                                <div class="text-center">
                                    <i class="fas fa-chart-pie text-3xl text-gray-400 mb-2"></i>
                                    <p class="text-sm text-gray-600">Distribution Chart</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Settings Section -->
                <section id="settings" class="content-section hidden">
                    <div class="mb-6">
                        <h2 class="text-xl font-semibold text-gray-900 mb-4">System Settings</h2>
                    </div>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Notification Templates</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Order Assigned Template</label>
                                    <textarea class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Order assigned notification template...">Your order #{orderId} has been assigned to {staffName} and will be delivered soon.</textarea>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Delivery Completion Template</label>
                                    <textarea class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent" rows="3" placeholder="Delivery completion template...">Your order #{orderId} has been successfully delivered. Thank you for choosing us!</textarea>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
                            <h3 class="text-lg font-semibold text-gray-900 mb-4">Delivery Settings</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Route Optimization</label>
                                    <select class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option>Shortest Distance</option>
                                        <option>Fastest Route</option>
                                        <option>Traffic Optimized</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Delivery Radius (km)</label>
                                    <input type="number" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent" value="25" min="1" max="100">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Auto-Assignment</label>
                                    <div class="flex items-center space-x-3">
                                        <input type="checkbox" id="auto-assign" class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500">
                                        <label for="auto-assign" class="text-sm text-gray-700">Enable automatic order assignment</label>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6 flex justify-end space-x-3">
                        <button class="border border-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-50 transition-colors duration-200">
                            Cancel
                        </button>
                        <button class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200">
                            <i class="fas fa-save mr-2"></i>Save Settings
                        </button>
                    </div>
                </section>

                <!-- Support Requests Section -->
                <section id="support" class="content-section hidden">
                    <div class="mb-6">
                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                            <h2 class="text-xl font-semibold text-gray-900 mb-4 sm:mb-0">Support Requests</h2>
                            <div class="flex space-x-3">
                                <select class="border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option>All Tickets</option>
                                    <option>Open</option>
                                    <option>In Progress</option>
                                    <option>Resolved</option>
                                    <option>Closed</option>
                                </select>
                                <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200">
                                    <i class="fas fa-plus mr-2"></i>New Ticket
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm border border-gray-200">
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Ticket ID</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Issue Type</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Priority</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Created</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200">
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#SUP001</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Customer #1</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Delivery Delay</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                                                High
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                                Open
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">2 Aug 2025</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            <div class="flex space-x-2">
                                                <button class="text-blue-600 hover:text-blue-900 font-medium">
                                                    <i class="fas fa-reply mr-1"></i>Respond
                                                </button>
                                                <button class="text-green-600 hover:text-green-900 font-medium">
                                                    <i class="fas fa-times mr-1"></i>Close
                                                </button>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-gray-50">
                                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#SUP002</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Customer #2</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">Order Query</td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                Low
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap">
                                            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                                                Resolved
                                            </span>
                                        </td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">1 Aug 2025</td>
                                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                                            <button class="text-gray-600 hover:text-gray-900 font-medium">
                                                <i class="fas fa-eye mr-1"></i>View
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <script>

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyB3iBWleWNMCdQS9F0HR1wHBBtHkeMawhg",
            authDomain: "sjpss-f504b.firebaseapp.com",
            projectId: "sjpss-f504b",
            storageBucket: "sjpss-f504b.firebasestorage.app",
            messagingSenderId: "227402980311",
            appId: "1:227402980311:web:56b580456ab6b9c6758992",
            measurementId: "G-LZ4YP9YPN6"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();




        // Navigation functionality
        document.addEventListener('DOMContentLoaded', function() {
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.content-section');
            
            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    // Remove active classes
                    navLinks.forEach(l => {
                        l.classList.remove('active', 'bg-gradient-to-r', 'from-blue-600', 'to-purple-600', 'text-white');
                        l.classList.add('text-gray-600', 'hover:bg-gray-100', 'hover:text-gray-900');
                    });
                    sections.forEach(s => s.classList.add('hidden'));
                    
                    // Add active class to clicked link
                    link.classList.remove('text-gray-600', 'hover:bg-gray-100', 'hover:text-gray-900');
                    link.classList.add('active', 'bg-gradient-to-r', 'from-blue-600', 'to-purple-600', 'text-white');
                    
                    // Show corresponding section
                    const targetSection = link.getAttribute('data-section');
                    document.getElementById(targetSection).classList.remove('hidden');
                });
            });
            
            // Sample data for dynamic updates
            const orders = [
                {
                    id: 'ORD001',
                    customerId: '1',
                    items: [{productId: '2', quantity: 1, price: 75}],
                    totalAmount: 75,
                    status: 'packed',
                    deliveryStaff: '3',
                    paymentMethod: 'UPI',
                    paymentStatus: 'paid',
                    shippingDetails: {
                        address: 'Sunil S, Niranjana, Near Meenmutty Waterfalls, Kadakkal - 691536, IN',
                        method: 'standard',
                        pincode: '682001'
                    },
                    createdAt: '2025-07-31T05:15:10.203Z',
                    updatedAt: new Date()
                }
            ];
            
            // Interactive features
            document.querySelectorAll('button').forEach(btn => {
                btn.addEventListener('click', function(e) {
                    // Assign button functionality
                    if (this.textContent.trim() === 'Assign') {
                        this.textContent = 'Assigned';
                        this.classList.remove('text-blue-600', 'hover:text-blue-900');
                        this.classList.add('text-green-600', 'hover:text-green-900');
                        
                        // Show success notification
                        showNotification('Order assigned successfully!', 'success');
                    }
                    
                    // Live tracking button
                    if (this.textContent.includes('Start Live Tracking')) {
                        this.innerHTML = '<i class="fas fa-stop mr-2"></i>Stop Live Tracking';
                        this.classList.remove('bg-blue-600', 'hover:bg-blue-700');
                        this.classList.add('bg-red-600', 'hover:bg-red-700');
                        showNotification('Live tracking started!', 'info');
                    } else if (this.textContent.includes('Stop Live Tracking')) {
                        this.innerHTML = '<i class="fas fa-play mr-2"></i>Start Live Tracking';
                        this.classList.remove('bg-red-600', 'hover:bg-red-700');
                        this.classList.add('bg-blue-600', 'hover:bg-blue-700');
                        showNotification('Live tracking stopped!', 'info');
                    }
                });
            });
            
            // Notification system
            function showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.className = `fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 transition-all duration-300 transform translate-x-full`;
                
                const colors = {
                    success: 'bg-green-500 text-white',
                    error: 'bg-red-500 text-white',
                    info: 'bg-blue-500 text-white',
                    warning: 'bg-yellow-500 text-black'
                };
                
                notification.className += ` ${colors[type]}`;
                notification.innerHTML = `
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-${type === 'success' ? 'check' : type === 'error' ? 'times' : type === 'warning' ? 'exclamation' : 'info'}-circle"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                document.body.appendChild(notification);
                
                // Animate in
                setTimeout(() => {
                    notification.classList.remove('translate-x-full');
                }, 100);
                
                // Remove after 3 seconds
                setTimeout(() => {
                    notification.classList.add('translate-x-full');
                    setTimeout(() => {
                        document.body.removeChild(notification);
                    }, 300);
                }, 3000);
            }
            
            // Real-time updates simulation
            setInterval(() => {
                // Update timestamps and stats
                const now = new Date();
                const timeElements = document.querySelectorAll('td:contains("AM"), td:contains("PM")');
                
                // Simulate real-time data updates
                console.log('Updating real-time data...', now);
            }, 30000);
            
            // Initialize with some sample notifications
            setTimeout(() => showNotification('Welcome to DeliveryHub Admin Panel!', 'success'), 1000);
        });





// Orders Management Functions for Firebase/Firestore Collection

/**
 * Fetch all orders from the 'orders' collection
 */
async function getAllOrders(db) {
    try {
        const ordersRef = collection(db, 'orders');
        const snapshot = await getDocs(ordersRef);
        
        return snapshot.docs.map(doc => ({
            id: doc.id,
            ...doc.data()
        }));
    } catch (error) {
        console.error('Error fetching orders:', error);
        throw error;
    }
}

/**
 * Fetch orders filtered by status
 */
async function getOrdersByStatus(db, status) {
    try {
        const ordersRef = collection(db, 'orders');
        const q = query(ordersRef, where('status', '==', status));
        const snapshot = await getDocs(q);
        
        return snapshot.docs.map(doc => ({
            id: doc.id,
            ...doc.data()
        }));
    } catch (error) {
        console.error('Error fetching orders by status:', error);
        throw error;
    }
}

/**
 * Update order status
 */
async function updateOrderStatus(db, orderId, newStatus) {
    try {
        const orderRef = doc(db, 'orders', orderId);
        await updateDoc(orderRef, {
            status: newStatus,
            updatedAt: serverTimestamp()
        });
    } catch (error) {
        console.error('Error updating order status:', error);
        throw error;
    }
}

/**
 * Assign delivery staff to an order
 */
async function assignDeliveryStaff(db, orderId, staffId) {
    try {
        const orderRef = doc(db, 'orders', orderId);
        await updateDoc(orderRef, {
            deliveryStaff: staffId,
            updatedAt: serverTimestamp()
        });
    } catch (error) {
        console.error('Error assigning delivery staff:', error);
        throw error;
    }
}

/**
 * Create a new order
 */
async function createNewOrder(db, orderData) {
    try {
        const ordersRef = collection(db, 'orders');
        const newOrder = {
            ...orderData,
            createdAt: serverTimestamp(),
            updatedAt: serverTimestamp(),
            status: orderData.status || 'pending',
            paymentStatus: orderData.paymentStatus || 'pending'
        };
        
        const docRef = await addDoc(ordersRef, newOrder);
        return docRef.id;
    } catch (error) {
        console.error('Error creating new order:', error);
        throw error;
    }
}

/**
 * Format order data for display in the UI table
 */
function formatOrdersForDisplay(orders, customers = [], products = [], staff = []) {
    return orders.map(order => {
        // Find customer name
        const customer = customers.find(c => c.id === order.customerId);
        const customerName = customer ? customer.name : `Customer #${order.customerId}`;
        
        // Format items
        const itemsText = order.items.map(item => {
            const product = products.find(p => p.id === item.productId);
            const productName = product ? product.name : `Product #${item.productId}`;
            return `${productName} (Qty: ${item.quantity})`;
        }).join(', ');
        
        // Find assigned staff
        const assignedStaff = staff.find(s => s.id === order.deliveryStaff);
        const staffName = assignedStaff ? assignedStaff.name : order.deliveryStaff;
        
        return {
            id: order.id,
            orderId: `#ORD${order.id.substring(0, 6).toUpperCase()}`,
            customerName,
            items: itemsText,
            totalAmount: order.totalAmount,
            status: order.status,
            assignedStaff: staffName,
            paymentMethod: order.paymentMethod,
            paymentStatus: order.paymentStatus,
            shippingAddress: order.shippingDetails?.address || '',
            createdAt: order.createdAt,
            updatedAt: order.updatedAt
        };
    });
}

/**
 * Get status badge class for UI styling
 * @param {string} status - Order status
 * @returns {string} CSS classes for status badge
 */
function getStatusBadgeClass(status) {
    const statusClasses = {
        'pending': 'bg-yellow-100 text-yellow-800',
        'packed': 'bg-green-100 text-green-800',
        'assigned': 'bg-blue-100 text-blue-800',
        'out-for-delivery': 'bg-purple-100 text-purple-800',
        'delivered': 'bg-green-100 text-green-800',
        'cancelled': 'bg-red-100 text-red-800'
    };
    
    return statusClasses[status] || 'bg-gray-100 text-gray-800';
}

/**
 * Populate the orders table in the HTML
 * @param {Array} orders - Formatted orders array
 * @param {Array} staff - Available staff for dropdown
 */
function populateOrdersTable(orders, staff = []) {
    const tbody = document.querySelector('#orders tbody');
    if (!tbody) return;
    
    tbody.innerHTML = orders.map(order => `
        <tr class="hover:bg-gray-50" data-order-id="${order.id}">
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${order.orderId}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">${order.customerName}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">${order.items}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-900">₹${order.totalAmount}</td>
            <td class="px-6 py-4 whitespace-nowrap">
                <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusBadgeClass(order.status)}">
                    ${order.status.charAt(0).toUpperCase() + order.status.slice(1)}
                </span>
            </td>
            <td class="px-6 py-4 whitespace-nowrap">
                <select class="text-sm border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-blue-500" 
                        onchange="handleStaffAssignment('${order.id}', this.value)">
                    <option value="">Select Staff</option>
                    ${staff.map(s => `
                        <option value="${s.id}" ${s.id === order.assignedStaff ? 'selected' : ''}>
                            ${s.name}
                        </option>
                    `).join('')}
                </select>
            </td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">
                <div class="flex space-x-2">
                    <button class="text-blue-600 hover:text-blue-900 font-medium" 
                            onclick="handleAssignOrder('${order.id}')">Assign</button>
                    <button class="text-green-600 hover:text-green-900 font-medium" 
                            onclick="handleTrackOrder('${order.id}')">Track</button>
                </div>
            </td>
        </tr>
    `).join('');
}

/**
 * Handle staff assignment change
 * @param {string} orderId - Order ID
 * @param {string} staffId - Selected staff ID
 */
async function handleStaffAssignment(orderId, staffId) {
    try {
        // Assuming you have a global db instance
        await assignDeliveryStaff(db, orderId, staffId);
        
        // Show success message
        showNotification('Staff assigned successfully!', 'success');
        
        // Refresh the orders table
        await refreshOrdersTable();
    } catch (error) {
        showNotification('Error assigning staff: ' + error.message, 'error');
    }
}

/**
 * Handle order assignment action
 * @param {string} orderId - Order ID
 */
async function handleAssignOrder(orderId) {
    try {
        await updateOrderStatus(db, orderId, 'assigned');
        showNotification('Order assigned successfully!', 'success');
        await refreshOrdersTable();
    } catch (error) {
        showNotification('Error assigning order: ' + error.message, 'error');
    }
}

/**
 * Handle track order action
 * @param {string} orderId - Order ID
 */
function handleTrackOrder(orderId) {
    // Implement tracking functionality
    console.log('Tracking order:', orderId);
    // You could open a modal or navigate to a tracking page
}

/**
 * Handle status filter change
 * @param {string} selectedStatus - Selected status filter
 */
async function handleStatusFilter(selectedStatus) {
    try {
        let orders;
        
        if (selectedStatus === 'All Orders' || !selectedStatus) {
            orders = await getAllOrders(db);
        } else {
            orders = await getOrdersByStatus(db, selectedStatus.toLowerCase());
        }
        
        // Format and populate table
        const formattedOrders = formatOrdersForDisplay(orders);
        populateOrdersTable(formattedOrders);
        
    } catch (error) {
        showNotification('Error filtering orders: ' + error.message, 'error');
    }
}

/**
 * Refresh the orders table
 */
async function refreshOrdersTable() {
    const statusFilter = document.querySelector('#orders select').value;
    await handleStatusFilter(statusFilter);
}

/**
 * Show notification message
 * @param {string} message - Message to display
 * @param {string} type - Type of notification (success, error, info)
 */
function showNotification(message, type = 'info') {
    // Implement your notification system here
    console.log(`${type.toUpperCase()}: ${message}`);
}

// Initialize orders section when DOM is loaded
document.addEventListener('DOMContentLoaded', function() {
    // Set up status filter event listener
    const statusSelect = document.querySelector('#orders select');
    if (statusSelect) {
        statusSelect.addEventListener('change', (e) => {
            handleStatusFilter(e.target.value);
        });
    }
    
    // Set up new order button
    const newOrderBtn = document.querySelector('#orders button[class*="bg-blue-600"]');
    if (newOrderBtn) {
        newOrderBtn.addEventListener('click', () => {
            // Open new order modal or form
            console.log('Open new order form');
        });
    }
    
    // Initial load
    refreshOrdersTable();
});



    </script>
</body>
</html>
                                   